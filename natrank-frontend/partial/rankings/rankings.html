<!--
  ~ Copyright (C) 2014 natrank Developers (http://github.com/fauu/natrank)
  ~
  ~ This software is licensed under the GNU General Public License
  ~ (version 3 or later). See the COPYING file in this distribution.
  ~
  ~ You should have received a copy of the GNU Library General Public License
  ~ along with this software. If not, see <http://www.gnu.org/licenses/>.
  ~
  ~ Authored by: Piotr Grabowski <fau999@gmail.com>
  -->

<div id="ranking-container" data-ng-controller="RankingsCtrl">
  <h2 id="header">
    World Ranking
  </h2>
  <div id="ranking-date">
    <input id="day" type="number" min="1" max="31" data-ng-model="day"
           data-ng-model-options="{debounce: 500}" />
    <select id="month" data-ng-model="month"
            data-ng-options="selectedMonth.k as selectedMonth.v for selectedMonth in months">
    </select>
    <input id="year" type="number" min="1872" max="2014" data-ng-model="year"
           data-ng-model-options="{debounce: 500}"/>
  </div>
  <table id="ranking" ng-class="{'dynamic': isRankingDynamic}">
    <thead>
      <tr>
        <th class="rank">Rank</th>
        <th class="team">Team</th>
        <th class="rating">Rating</th>
        <th ng-if="!isRankingDynamic">P</th>
        <th ng-if="!isRankingDynamic">W</th>
        <th ng-if="!isRankingDynamic">D</th>
        <th ng-if="!isRankingDynamic">L</th>
        <th ng-if="!isRankingDynamic">GF</th>
        <th ng-if="!isRankingDynamic">GA</th>
        <th ng-if="!isRankingDynamic">GD</th>
      </tr>
    </thead>
    <tbody>
      <tr class="entry" data-ng-repeat="entry in ranking.entries">
        <td class="rank">
          {{entry.rank > 0 ? entry.rank + '.' : '*'}}
        </td>
        <td class="team">
          <img src="img/flags/{{entry.teamInfo.flag.code}}.png" class="flag" />
           <a data-ng-href="teams/{{entry.teamInfo.name | lowercase | whitespaceToDash}}">{{entry.teamInfo.name}}</a>
        </td>
        <td class="rating">
          {{entry.rating > 0 ? entry.rating : 'â€”'}}
        </td>
        <td ng-if="!isRankingDynamic">{{entry.matchesTotal}}</td>
        <td ng-if="!isRankingDynamic">{{entry.wins}}</td>
        <td ng-if="!isRankingDynamic">{{entry.draws}}</td>
        <td ng-if="!isRankingDynamic">{{entry.losses}}</td>
        <td ng-if="!isRankingDynamic">{{entry.goalsFor}}</td>
        <td ng-if="!isRankingDynamic">{{entry.goalsAgainst}}</td>
        <td ng-if="!isRankingDynamic">{{entry.goalDifference > 0 ? '+' : ''}}{{entry.goalDifference}}</td>
      </tr>
    </tbody>
    <tfoot>
    <tr>
      <th>Rank</th>
      <th>Team</th>
      <th>Rating</th>
      <th ng-if="!isRankingDynamic">P</th>
      <th ng-if="!isRankingDynamic">W</th>
      <th ng-if="!isRankingDynamic">D</th>
      <th ng-if="!isRankingDynamic">L</th>
      <th ng-if="!isRankingDynamic">GF</th>
      <th ng-if="!isRankingDynamic">GA</th>
      <th ng-if="!isRankingDynamic">GD</th>
    </tr>
    </tfoot>
  </table>
</div>
